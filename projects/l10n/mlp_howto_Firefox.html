<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>
<link rel="top" title="Home" href="http://www.mozilla.org/">
<link rel="stylesheet" type="text/css" href="../../css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="../../css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/content.css" title="Cavendish" media="screen">
<link rel="stylesheet" type="text/css" href="../../css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="../../css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="../../images/mozilla-16.png" type="image/png">

 <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
 <title>How to localize Mozilla Firefox</title>
 <style type="text/css">
 <!-- kbd { border: solid; border-color: #C0C0C0 #C0C0C0 #A0A0A0 #C0C0C0;
            border-width: 1px 3px 2px 2px;
            background: #EEEEEE; -moz-border-radius: 0.2em; }
      cite { quotes: &#8220; &#8220;;}
      ol ul { padding-left: 0.7em; margin: 0;}
      ol ul ul { padding-left: 0.7em; margin: 0;} -->
 </style>
<script src="../../__utm.js" type="text/javascript"></script>
</head>
<body id="www-mozilla-org" class="deepLevel">
<div id="container">
<p class="important">You are currently viewing a snapshot of www.mozilla.org taken on April 21, 2008. Most of this content is
highly out of date (some pages haven't been updated since the project began in 1998) and exists for historical purposes only.  If
there are any pages on this archive site that you think should be added back to www.mozilla.org, please <a
href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=www.mozilla.org">file a bug</a>.</p>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<div id="header">
<h1><a href="/" title="Return to home page" accesskey="1">Mozilla</a></h1>
<ul>
<li id="menu_aboutus"><a href="../../about/" title="Getting the most out of your online experience">About</a></li>
<li id="menu_developers"><a href="../../developer/" title="Using Mozilla's products for your own applications">Developers</a></li>
<li id="menu_store"><a href="http://store.mozilla.org/?r=mozorg1" title="Shop for Mozilla products on CD and other merchandise">Store</a></li>
<li id="menu_support"><a href="../../support/" title="Installation, trouble-shooting, and the knowledge base">Support</a></li>
<li id="menu_products"><a href="../../products/" title="All software Mozilla currently offers">Products</a></li>
</ul>
<form id="searchbox_002443141534113389537:ysdmevkkknw" action="http://www.google.com/cse" title="mozilla.org Search">
<div>
<label for="q" title="Search mozilla.org's sites">search mozilla:</label>
<input type="hidden" name="cx" value="002443141534113389537:ysdmevkkknw">
<input type="hidden" name="cof" value="FORID:0">
<input type="text" id="q" name="q" accesskey="s" size="30">
<input type="submit" id="submit" value="Go">
</div>
</form>
</div>
<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="Roadmap" href="../../roadmap.html"><strong> Roadmap</strong></a></li>
<li><a title="Projects" href="../../projects/"><strong> Projects</strong></a></li>
<li><a title="For developers" href="../../developer/"><strong> Coding</strong></a>
<ul>
<li><a title="Module Owners" href="../../owners.html"> Module Owners</a></li>
<li><a title="Hacking" href="../../hacking/"> Hacking</a></li>
<li><a title="Get the Source" href="http://developer.mozilla.org/en/docs/Download_Mozilla_Source_Code"> Get the Source</a></li>
<li><a title="Building Mozilla" href="http://developer.mozilla.org/en/docs/Build_Documentation"> Build It</a></li>
</ul>
</li>
<li><a title="Testing" href="../../quality/"><strong> Testing</strong></a>
<ul>
<li><a title="Downloads of mozilla.org software releases" href="../../download.html"> Releases</a></li>
<li><a title="Latest mozilla builds for testers" href="../../developer/#builds"> Nightly Builds</a></li>
<li><a title="For testers to report bugs" href="https://bugzilla.mozilla.org/"> Report A Problem</a></li>
</ul>
</li>
<li><a title="Tools for mozilla developers" href="../../tools.html"><strong> Tools</strong></a>
<ul>
<li><a title="Bug tracking system for mozilla testers." href="https://bugzilla.mozilla.org/"> Bugzilla</a></li>
<li><a title="Latest status of mozilla builds" href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox"> Tinderbox</a></li>
<li><a title="Latest checkins" href="http://bonsai.mozilla.org/cvsqueryform.cgi"> Bonsai</a></li>
<li><a title="Source cross reference" href="http://lxr.mozilla.org/seamonkey/"> LXR</a></li>
</ul>
</li>
<li><a title="Frequently Asked Questions." href="../../faq.html"><strong> FAQs</strong></a></li>
</ul>

</div>
<hr class="hide">
<div id="mainContent">







<!-- The actual page contents starts here -->
<div align="center"><h1>How to localize Mozilla Firefox</h1></div>

<div align="center"><a href="news://news.mozilla.org/mozilla.dev.l10n">newsgroup discussion</a> /
   <a href="mailto:dev-l10n-request@lists.mozilla.org?subject=subscribe">mailing list</a><br>
   <a href="mailto:MLP&#32;Staff&#32;&lt;mlp-staff&#64;mozilla.org&gt;">Mozilla Localization Project Staff</a>
</div>

<p></p>

<p><abbr title="Mozilla Localization Project"><b>MLP</b></abbr>
 [<a href="./">Localization Project home</a>]
 | [<a href="mlp_docs.html">Localization docs</a>]
 | [Firefox howto]<br>
</p>

<p style="padding: 1em"></p>

<div align="right">written by <a href="mailto:mdalcoREMOVE@THIStiscali.it?subject=Howto localize Firefox page @ moz.org">Michele Dal Corso</a> (20/03/2004)</div>

<p></p>

To localize the Firefox browser into your language you can use
<a href="http://www.mozillatranslator.org/">Mozilla Translator</a>. You can then
choose whether:
 <div style="margin: 0 0 0 3em;">
   <a href="#MTglossary">import a previous Mozilla Application Suite localization</a>,<br>
   or <a href="#fromscratch">just start from scratch</a>.</div></p>
<p>The English original localizable strings are in the files en-US.jar,
US.jar, en-win.jar, en-mac.jar, en-unix.jar. You can find these files
in the <tt>chrome/</tt> directory of your Firefox installation. You can
also translate the default bookmarks in the <tt>defaults/profile/</tt> directory.</p>

Once you have the files localized you'll need to:
 <div style="margin: 0 0 0 3em;">
   <a href="#exportjar">export them in jar files</a>,<br>
   <a href="#XPI">to create an installable langpack (xpi)</a><br>
   or a <a href="#fullbuild">localized full build of Firefox</a>.</div>


<a name="fromscratch"></a>
<h2>Translate the interface from scratch</h2>
<div style="float: right"><img alt="" src="images/FfHowto_columns.png"></div>
<ol>
  <li><p>Start Mozilla Translator. From menu File select Manage
   Products. In the new dialog, choose Add and complete the form with the
   required data:
   <ul>
     <li>Name: the name of the product (in this case Firefox);</li>
     <li>Platform neutral jar file: you need to select the original
      <tt>en-US.jar</tt> file, in the <tt>chrome</tt> directory
      of your Firefox installation (or anywhere else you put the
      jar file);</li>
     <li>Platform specific: you must create three platforms with the
      Add button:
      <ul>
       <li>Use the names: Win, Mac and Unix.</li>
       <li>These corresponds respectively to the jar files:
         <tt>en-win.jar</tt>, <tt>en-mac.jar</tt> and <tt>en-unix.jar</tt>,
         placed in <tt>chrome</tt> directory.</li>
       <li>The Type is respectively Windows, Mac and Unix.</li>
      </ul></li>
     <li>Regional jar file: select the original <tt>US.jar</tt> file,
     in the <tt>chrome</tt> directory.</li>
     <li>Custom files: nothing.</li>
   </ul>
   Click Ok and then click Exit.</p></li>
  
  <li><p><a name="s2">Select Edit &#8594; Chrome view. In the next <cite>Show which
   columns</cite> dialog, select al least these items: <tt>Key</tt>, <tt>Text:
   Original</tt>, <tt>Text: Translated</tt>, <tt>Keep original</tt>, <tt>Accesskey:
   Original</tt>, <tt>Accesskey: Translated</tt>, <tt>Commandkey: Original</tt>,
   <tt>Commandkey: Translated</tt>. Hit the <kbd>Ctrl</kbd> key to make a multiple
   selection. The <tt>Accesskey:</tt> and <tt>Commandkey:</tt> columns are not
   mandatory if you want to gain  space available to other columns: you can find the
   same content in the <tt>Text:</tt> columns.<br>

   In the Locale field put the locale code that you are translating to
   (e.g. <tt>it-IT</tt>), and click OK.</p>
   </li>

  <li><p>In the new window you should choose a file in the left bar, so
   you can start to translate the related strings (in the <tt>Text: Translated
   column</tt>):</p>

   <p>If you wish to mantain the original text you can check the <cite>Keep
   original</cite> checkbox.</p>

   <div><img title="the Mozilla Translator window" src="images/FfHowto_translation.png"></div></li>
</ol>


<a name="MTglossary"></a>
<h2 style="margin-bottom: 0em">Import an available Mozilla Suite localization</h2>
  <div style="margin-left: 5em">(as a Mozilla Translator glossary)</div>

<ol>
  <li>Put the Mozilla Application Suite <tt>glossary.zip</tt> file in the same
    directory as a plain installation of Mozilla Translator.</li>
  <li>Start Mozilla Translator and choose Manage Products from File
    menu.</li>
  <li>Create a new product called Firefox (following the instructions
    at <a href="#fromscratch">step 1 of Steps to translate the interface from
    scratch</a> section).</li>
  <li>Click Exit, and choose Advanced &#8594; Migrate product. In the
    next dialog, in the source box choose the name of Mozilla Suite
    translation, in the destination box <cite>Firefox</cite>, and fill the locale
    field with the locale code that you are translating to (e.g. <tt>it-IT</tt>).
    Click OK.</li>
  <li>Now you can delete the old Mozilla Suite translation from File
    &#8594; Manage products, selecting the Mozilla Suite product, and
    clicking Remove.</li>
  <li>To translate the untraslated strings preceed with the <a href="#s2">step 2</a>
    of the previous section. Also you can try the Edit &#8594; Untranslated strings
    option.</li>
</ol>


<a name="exportjar"></a>
<h2>How to export in translated jar files</h2>
<ol>
  <li>
   <div style="float: right"><img src="images/FfHowto_export.png" alt=""></div>

   <p>From menu Export, select Jar file.</p></li>
  <li>In the next dialog fill all the fields in appropriate way:
   <ul>
    <li>Locale: fill with the locale you're exporting to (e.g. it-IT)</li>
    <li>File: choose the location and the name of the jar that you are exporting.
     <ul>
      <li>For platform neutral content use <tt>it-IT.jar</tt> (your locale, like
       fr-FR.jar, zh-CN.jar etc.).</li>
      <li>For specific platform content use <tt>it-win.jar</tt>, <tt>it-mac.jar</tt>,
       <tt>it-unix.jar</tt>, respectively for Windows, Mac and Unix platforms. The
       lower case letters before the hyphen "-" indicate the language (<tt>it</tt>
       for the Italian language locale).</li>
      <li>For regional content use <tt>IT.jar</tt> (or <tt>FR.jar</tt>,
       <tt>CN.jar</tt>, etc.)</li>
      <li>Put all the files in an empty directory.</li>
     </ul></li>
    <li>Fill the display name field with the name Firefox should display when
     you choose the language (in the Country settings of Profile manager).</li>
    <li>Preview URL is optional.</li>
    <li>Version: you should fill this field with the version of Mozilla backend
     version in Firefox (for 0.8 is 1.5). Due to a bug, only specifying this
     field the .jar created will not work with Firefox. You must modify the
     content of the jar file by hand (see point 4 below).</li>
    <li>In the Export selection box you must choose the appropriate content to
     export, matching the above file name. Take care on this option!</li>
    <li>Click OK.</li>
   </ul></li>

  <li><p>Repeat step 2 five times, to export each jar file.</p></li>

  <li>Now you need to correct the version number of each <tt>content.rdf</tt>
   file in each subcomponent directory included in the jar files. To do this,
   repeat for any of the jar files these steps:
   <ul>
    <li>Unzip one original English jar files (changing the file extesion to
     <tt>.zip</tt> or directly opening the file with a
     <a href="mlp_tools.html#others">zip compatible utility</a>) and its localized
     version in two different folders.</li>
    <li>Within the folder containing the English files, you'll find a
     <tt>contents.rdf</tt> file inside each <tt>locale/en-US/</tt> subfolder.
     Open them with a conventional text editor (e.g. for en-US.jar, you'll need to
     edit <tt>locale/en-US/autoconfig/contents.rdf</tt>,
     <tt>locale/en-US/browser/contents.rdf</tt>,
     <tt>locale/en-US/communicator/contents.rdf</tt>, and so on.. ).</li>
    <li>Do the same with the extracted <tt>contents.rdf</tt> files from the
      localized jar file (e.g. <tt>locale/it-IT/autoconfig/contents.rdf</tt>).</li>
    <li>Now look at this code in the original contents.rdf:<br>
      <code>&lt;RDF:Description about="urn:mozilla:locale:en-US:autoconfig" chrome:<span style="color:red">localeVersion="1.5"</span>/&gt;</code><br>
      you must report the version number in this statement in the matching code
      of localized contents.rdf. Take care because the version number appears
      two times in two different statements of the Mozilla Translator generated
      contents.rdf file: you'll need to change them both.</li>
    <li>Repeat these steps for each contents.rdf of each subcomponent directory
      (e.g. for Firefox 0.8 en-US.jar file you'll find 12 subcomponent dirs
      with 12 contents.rdf files. Each file might have a different version!).</li>
    <li>Finally zip the locale folder of your modified localized jar's directory.
      The jar file must contain only relative paths: if you include the absolute
      path the file will not work (take English ones as reference).</li>
   </ul>
  </li>
</ol>


<a name="XPI"></a>
<h2>How to make an installable langpack (xpi)</h2>
<p>Thanks to Torisugari for explaining this procedure to me. You cannot use the
built-in function of Mozilla Translator because it is specific for Mozilla Suite.</p>
<ol>
 <li>In an empty directory create two new directory:
  <ul>
   <li><tt>bin/</tt></li>
   <li><tt>sp/</tt></li>
  </ul></li>
 <li><p>The directory <tt>bin</tt> must contain a <tt>chrome</tt> directory
  with the exported langpack jars inside. For Italian locale:</p>

  <dl><dt><tt>bin/chrome/</tt></dt>
   <dd><tt>it-IT.jar</tt></dd>
   <dd><tt>IT.jar</tt></dd>
   <dd><tt>it-win.jar</tt></dd>
   <dd><tt>it-mac.jar</tt></dd>
   <dd><tt>it-unix.jar</tt></dd></dl>

  <p>The <tt>bin/</tt> directory can also contain a subdirectory with customized
  regional profile template files. You can find these files in the
  <tt>defaults/profile/US/</tt> folder of your Firefox installation.
  <tt>bookmarks.html</tt> contains the default bookmarks of Firefox.
  You should create a directory with the new regional code name, which containing
  the regional customized settings. For the Italy region locale:

   <dl><dt><tt>bin/defauls/profile/IT/</tt></dt>
    <dd><tt>bookmarks.html</tt></dd>
    <dd><tt>localstore.rdf</tt></dd>
    <dd><tt>mimeTypes.rdf</tt></dd>
    <dd><tt>panels.rdf</tt></dd>
    <dd><tt>search.rdf</tt></dd><dd>
    <dl><dt><tt>chrome/</tt></dt>
     <dd><tt>userChrome-example.css</tt></dd>
     <dd><tt>userContent-example.css</tt></dd></dl>
    </dd></dl>
  </li>

  <li><p>The directory <tt>sp/</tt> can hold localized search plugins. For
   example, in the Italian langpack:</p>

   <dl><dt><tt>sp/</tt></dt>
    <dd><tt>demauro.src</tt></dd>
    <dd><tt>demauro.gif</tt></dd>
    <dd><tt>garzanti.src</tt></dd>
    <dd><tt>garzanti.gif</tt></dd></dl>
  </li>
  <li><p>In the root directory put the
   <a href="firefox08_install.txt">install.js</a> installation script.
   To properly configure this file:</p>

   <ul>
      <li>at lines 89-91 you need to insert your locale and regional code;</li>
      <li>at line 189 you need to adjust the message with your locale.</li>
    </ul>

   You can also translate the messages indicated by the
   <code>LOCALIZATION NOTE</code> comments.</li>
  <li><p>At the end you should have this directory tree:</>

   <pre>
¦   install.js
¦
+---bin/
¦   +---chrome/
¦   ¦       it-IT.jar
¦   ¦       it-mac.jar
¦   ¦       it-unix.jar
¦   ¦       it-win.jar
¦   ¦       IT.jar
¦   ¦
¦   +---defaults/
¦       +---profile/
¦           +---IT/
¦               ¦   bookmarks.html
¦               ¦   localstore.rdf
¦               ¦   mimeTypes.rdf
¦               ¦   panels.rdf
¦               ¦   search.rdf
¦               ¦
¦               +---chrome/
¦                       userChrome-example.css
¦                       userContent-example.css
¦
+---sp/
        demauro.gif
        demauro.src
        garzanti.gif
        garzanti.src
   </pre>
  </li>

  <li>Now you have to create a zip file that contains all these directories and
   files, without the absolute path (just what shown above). In Linux, or Windows
   with Cygwin, move inside the <tt>install.js</tt> folder, and use the zip utility
   with command:<br>
   <tt>zip -r9 ../firefox-0.8-it-IT-langpack.xpi *</tt><br>
   In Windows you can also use a free visual utility like
   <a href="http://www.zipgenius.it/">ZipGenius</a>. Double check the contents
   of the archive just create, to confirm the install.js lays in the root
   (its path is an empty string or / ).</li>
  <li><p>Make sure the archive extension is <tt>.xpi</tt>. If not, rename it.
   The package is now ready to be tested.</p></li>
  <li>To show Firefox in your language, open it with File | Open file (Ctrl+O),
   confirm the installation (Install now), then restart the browser at the
   command line with:<br>
   <code>firefox -UILocale it-IT -contentLocale IT</code><br>
   (change the option values with your locale codes).</li>
</ol>


<a name="fullbuild"></a>
<h2>How to make a localized Firefox build</h2>
<ol>
  <li>Create an installable localization package, as described in the
   section <a href="#XPI">How to make an installable langpack (xpi)</a>.</li>
  <li>Install the package in a clean Firefox installation (it means
   "only unzipped from its original ditribution archive").</li>
  <li>Start Firefox with <tt>-UILocale it-IT -contentLocale IT</tt>
   command line options (replacing it-IT and IT with your locale).</li>
  <li>Close Firefox and edit the file <tt>installedchrome.txt</tt>
   in the <tt>chrome</tt> directory. Delete the lines containing references
   to the English "en-US" jar resource files (<tt>en-US.jar</tt>, <tt>US.jar</tt>,
   <tt>en-mac.jar</tt>, <tt>en-win.jar</tt>, <tt>en-unix.jar</tt>).
   DO NOT remove the lines referring to en-US locale but not to en-US jar files.
   For example, don't remove the line:<br>
   <code>locale,install,url,jar:resource:/chrome/embed-sample.jar!/locale/en-US/embed/</code>
   </li>
  <li>Now you can delete the English resources jar files (<tt>en-US.jar</tt>,
   <tt>US.jar</tt>, <tt>en-mac.jar</tt>, <tt>en-win.jar</tt>, <tt>en-unix.jar</tt>),
   and the <tt>US/</tt> profile directory in <tt>defaults/profile/</tt> .</li>
  <li>Pack all Firefox files in a new zip file and your build is ready to be
   distributed.</li>
  <li>As a second choice, you can create an installer package using the
   <a href="http://seb.mozdev.org/firebird/">NSIS installer</a>.</li>
</ol>




<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="../../sitemap.html">Site Map</a></li>
<li><a href="../../security/">Security Updates</a></li>
<li><a href="../../contact/">Contact Us</a></li>
<li><a href="../../foundation/donate.html">Donate</a></li>
</ul>
<p class="copyright">
Portions of this content are &copy; 1998&#8211;2009 by individual mozilla.org
contributors; content available under a Creative Commons license | <a
href="http://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</p>
<p>
<span>Last modified August  2,  2006</span>
<span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/projects/l10n/mlp_howto_Firefox.html&amp;rev=&amp;root=/www/">Document History</a></span>
</p>
</div>
</div>
</body>
</html>
